/*--------------------------------*- C++ -*----------------------------------*\
  =========                 |
  \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox
   \\    /   O peration     | Website:  https://openfoam.org
    \\  /    A nd           | Version:  12
     \\/     M anipulation  |
\*---------------------------------------------------------------------------*/
FoamFile
{
    format      ascii;
    class       dictionary;
    location    "system";
    object      blockMeshDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

// DONE: Überprüfen Sie ob das Blockmesh die gegebene Geometrie vollständig einschließt. Passen Sie die Positionen ggf. an. 
// INFO: Der Abstand zwischen Blockmesh in Geometrie-Ende sollte nicht zu groß sein.
backgroundMesh
{
    x0              -0.1425; // xmin
    x1              -0.1; // domain xmin
    x2              0.08; // domain xmax
    x3              0.5175; // xmax
    yMin            -0.0225;
    yMax            0.0225;
    zMin            -0.002;
    zMax            0.002;
    x0Cells          15;
    x1Cells          80;
    x2Cells          150;
    yCells          20;
    zCells          2;
}

convertToMeters 1;

// Coordinates of vertices are defined using variables from above.
vertices
(
    ($!backgroundMesh/x0 $!backgroundMesh/yMin $!backgroundMesh/zMin) // ID = 0
    ($!backgroundMesh/x1 $!backgroundMesh/yMin $!backgroundMesh/zMin) // ID = 1
    ($!backgroundMesh/x1 $!backgroundMesh/yMax $!backgroundMesh/zMin) // ID = 2
    ($!backgroundMesh/x0 $!backgroundMesh/yMax $!backgroundMesh/zMin) // ID = 3
    ($!backgroundMesh/x0 $!backgroundMesh/yMin $!backgroundMesh/zMax) // ID = 4
    ($!backgroundMesh/x1 $!backgroundMesh/yMin $!backgroundMesh/zMax) // ID = 5
    ($!backgroundMesh/x1 $!backgroundMesh/yMax $!backgroundMesh/zMax) // ID = 6
    ($!backgroundMesh/x0 $!backgroundMesh/yMax $!backgroundMesh/zMax) // ID = 7

    ($!backgroundMesh/x2 $!backgroundMesh/yMin $!backgroundMesh/zMin) // ID = 8
    ($!backgroundMesh/x3 $!backgroundMesh/yMin $!backgroundMesh/zMin) // ID = 9
    ($!backgroundMesh/x3 $!backgroundMesh/yMax $!backgroundMesh/zMin) // ID = 10
    ($!backgroundMesh/x2 $!backgroundMesh/yMax $!backgroundMesh/zMin) // ID = 11
    ($!backgroundMesh/x2 $!backgroundMesh/yMin $!backgroundMesh/zMax) // ID = 12
    ($!backgroundMesh/x3 $!backgroundMesh/yMin $!backgroundMesh/zMax) // ID = 13
    ($!backgroundMesh/x3 $!backgroundMesh/yMax $!backgroundMesh/zMax) // ID = 14
    ($!backgroundMesh/x2 $!backgroundMesh/yMax $!backgroundMesh/zMax) // ID = 15
);

// DONE: Die Fläche des patches "xMin" scheint fehlerhaft definiert zu sein. Korrigieren Sie das. 
// INFO: Details dazu, wie die Knotennummern angegeben werden müssen finden Sie z.B. unter http://doc.cfd.direct/openfoam/user-guide-v12/blockmesh
// 	 Die übrigen Flächen sind korrekt definiert.
// Patches of the mesh consist of one or more faces. Faces are defined by their corner vertices in a certain order.
boundary
(
    xMin { type patch; faces ( (0 3 4 7) ); }
    xMax { type patch; faces ( (9 13 14 10) ); }
    yMin { type patch; faces ( (0 4 5 1) (1 5 12 8) (8 12 13 9) ); }
    yMax { type patch; faces ( (3 2 6 7) (2 11 15 6) (11 10 14 15) ); }
    zMin { type patch; faces ( (0 1 2 3) (1 8 11 2) (8 9 10 11) ); }
    zMax { type patch; faces ( (4 7 6 5) (5 6 15 12) (12 15 14 13) ); }
);

// DONE: In einem der Blocks scheint die Zellanzahl nicht fehlerhaft definiert zu sein. Korrigieren Sie das. 
// INFO: Die Knoten-Nummern müssen hier nicht korrigiert werden.
// Blocks are defined by their vertices given in a certain order. Each block is devided into a number of cells in each direction. 
// Numbers of cells are defined using variables from above.
blocks
(
    // inlet block
    hex (0 1 2 3 4 5 6 7)
    (
        $!backgroundMesh/x0Cells
        $!backgroundMesh/yCells
        $!backgroundMesh/zCells
    )
    simpleGrading (0.5 1 1)

    // pipe region
    hex (1 8 11 2 5 12 15 6)
    (
        $!backgroundMesh/x1Cells
        $!backgroundMesh/yCells
        $!backgroundMesh/zCells
    )
    simpleGrading (1 1 1)

    // outlet block
    hex (8 9 10 11 12 13 14 15)
    (
        $!backgroundMesh/x2Cells
        $!backgroundMesh/yCells
        $!backgroundMesh/zCells
    )
    simpleGrading (2 1 1)
);

edges
(
);

mergePatchPairs
(
);


// ************************************************************************* //
